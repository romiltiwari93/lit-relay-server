require("dotenv").config();

import { Config } from "../models";

const {
	REDIS_URL,
	APPLE_BUNDLE_ID,
	ANDROID_PACKAGE_NAME,
	ANDROID_SHA256_CERT_FINGERPRINT,
	PORT,
	ENABLE_HTTPS,
	SERRANO_ACCESS_CONTROL_CONDITIONS_ADDRESS,
	SERRANO_PKP_NFT_ADDRESS,
	SERRANO_PKP_HELPER_ADDRESS,
	SERRANO_PKP_PERMISSIONS_ADDRESS,
	CAYENNE_ACCESS_CONTROL_CONDITIONS_ADDRESS,
	CAYENNE_PKP_NFT_ADDRESS,
	CAYENNE_PKP_HELPER_ADDRESS,
	CAYENNE_PKP_PERMISSIONS_ADDRESS,
	NETWORK,
	USE_SOLO_NET,
	EXPECTED_ORIGINS,
	STYTCH_PROJECT_ID,
} = process.env;

const baseConfig = {
	redisUrl: REDIS_URL || "dummy-url",
	port: parseInt(PORT !== "" ? PORT! : "3001"),
	enableHttps: ENABLE_HTTPS === "true",
	serranoContracts: {
		accessControlConditionsAddress:
			SERRANO_ACCESS_CONTROL_CONDITIONS_ADDRESS ||
			"0x8b353Bb9E26F2c2B8155f377982537C39AD01A1B",
		pkpNftAddress:
			SERRANO_PKP_NFT_ADDRESS ||
			"0x8F75a53F65e31DD0D2e40d0827becAaE2299D111",
		pkpHelperAddress:
			SERRANO_PKP_HELPER_ADDRESS ||
			"0x8bB62077437D918891F12c7F35d9e1B78468bF11",
		pkpPermissionsAddress:
			SERRANO_PKP_PERMISSIONS_ADDRESS ||
			"0x4Aed2F242E806c58758677059340e29E6B5b7619",
	},
	cayenneContracts: {
		accessControlConditionsAddress:
			CAYENNE_ACCESS_CONTROL_CONDITIONS_ADDRESS ||
			"0x8b353Bb9E26F2c2B8155f377982537C39AD01A1B",
		pkpNftAddress:
			CAYENNE_PKP_NFT_ADDRESS ||
			"0x35789dea0044D311671D5827F6EB0f45081D8811",
		pkpHelperAddress:
			CAYENNE_PKP_HELPER_ADDRESS ||
			"0xDe905Fde36562270AA6FEeBAbC5aB1f440f733c2",
		pkpPermissionsAddress:
			CAYENNE_PKP_PERMISSIONS_ADDRESS ||
			"0x9a0a6DD9D229eEfa5119cEB237c90D843d5e1003",
	},
	network: NETWORK || "serrano",
	useSoloNet: USE_SOLO_NET === "true",
	expectedOrigins: EXPECTED_ORIGINS?.split(",") || ["http://localhost:3000"],
	appleBundleId: APPLE_BUNDLE_ID || "9WXN6L8SL7.com.hashhalli.obvious.money",
	androidPackageName: ANDROID_PACKAGE_NAME || "com.hashhalli.obvious.money",
	andriodSha256CertFingerprint:
		ANDROID_SHA256_CERT_FINGERPRINT ||
		"FA:C6:17:45:DC:09:03:78:6F:B9:ED:E6:2A:96:2B:39:9F:73:48:F0:BB:6F:89:9B:83:32:66:75:91:03:3B:9C",
	stytchProjectId:
		STYTCH_PROJECT_ID ||
		"project-test-d942c251-4f02-49a7-9995-1ed3e1f6cb2d",
};

export default {
	...baseConfig,
} as Config;
